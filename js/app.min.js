function initialize(){var o={zoom:15};map=new google.maps.Map(document.getElementById("map-canvas"),o);var a={strokeColor:"#ff0000",strokeOpacity:1,strokeWeight:3};poly=new google.maps.Polyline(a),poly.setMap(map),google.maps.event.addListener(map,"click",addLatLng),navigator.geolocation?navigator.geolocation.getCurrentPosition(function(o){var a=new google.maps.LatLng(o.coords.latitude,o.coords.longitude);map.setCenter(a)},function(){handleNoGeolocation(!0)}):handleNoGeolocation(!1)}function handleNoGeolocation(o){if(o)var a="Error: Couldn't find your location.";else var a="Error: Your browser doesn't support geolocation.";{var e={map:map,position:new google.maps.LatLng(41.880454799999995,-87.6251393),content:a};new google.maps.InfoWindow(e)}map.setCenter(e.position)}function addLatLng(o){var a=poly.getPath();a.push(o.latLng)}var poly,map;google.maps.event.addDomListener(window,"load",initialize);