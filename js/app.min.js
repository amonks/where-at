function initialize(){var o={disableDefaultUI:!0,panControl:!1,zoomControl:!1,zoom:15,mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU}};map=new google.maps.Map(document.getElementById("map-canvas"),o);{var e=document.createElement("div");new DrawControl(e,map)}e.index=1,map.controls[google.maps.ControlPosition.TOP_RIGHT].push(e),newPolyLine({strokeColor:randomColor(),strokeOpacity:1,strokeWeight:3}),google.maps.event.addListener(map,"click",addLatLng),navigator.geolocation?navigator.geolocation.getCurrentPosition(function(o){var e=new google.maps.LatLng(o.coords.latitude,o.coords.longitude);map.setCenter(e)},function(){handleNoGeolocation(!0)}):handleNoGeolocation(!1)}function DrawControl(o){o.style.padding="5px";var e=document.createElement("div");e.style.backgroundColor="white",e.style.borderStyle="solid",e.style.borderWidth="2px",e.style.cursor="pointer",e.style.textAlign="center",e.title="Click to start a new path [dumb ux right here]",o.appendChild(e);var t=document.createElement("div");t.style.fontFamily="Arial,sans-serif",t.style.fontSize="12px",t.style.paddingLeft="4px",t.style.paddingRight="4px",t.innerHTML="<b>New Path (lol)</b>",e.appendChild(t),google.maps.event.addDomListener(e,"click",function(){newPolyLine({strokeColor:randomColor(),strokeOpacity:1,strokeWeight:3})})}function newPolyLine(o){poly=new google.maps.Polyline(o),poly.setMap(map)}function handleNoGeolocation(o){if(o)var e="Error: Couldn't find your location.";else var e="Error: Your browser doesn't support geolocation.";{var t={map:map,position:new google.maps.LatLng(41.880454799999995,-87.6251393),content:e};new google.maps.InfoWindow(t)}map.setCenter(t.position)}function addLatLng(o){var e=poly.getPath();e.push(o.latLng)}function randomColor(){return"#"+Math.floor(16777215*Math.random()).toString(16)}var mapDraw={},poly,map;google.maps.event.addDomListener(window,"load",initialize);